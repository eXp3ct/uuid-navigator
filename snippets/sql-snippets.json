{
  "Insert Class": {
    "prefix": "bmc-class",
    "body": [
      "---------------------------------------------------",
      "--- Добавление класса ${2:Class Name} ${1:${3:00000000-0000-0000-0000-000000000000}} ---",
      "---------------------------------------------------",
      "INSERT INTO classes (id, \"timestamp\", \"name\", description, \"type\", created_at, created_by) VALUES",
      "('${1:${3:00000000-0000-0000-0000-000000000000}}', :my_utc_now, '${2:Class Name}', '${4:Description}', ${5:0|1|2}, :my_utc_now, :my_admin_id);",
      "",
      "---------------------------------------------------",
      "--- Свойства класса ${2:Class Name} (${1:${3:00000000-0000-0000-0000-000000000000}}) ---",
      "---------------------------------------------------",
      "INSERT INTO property_definitions (",
      "  id,",
      "  \"timestamp\",",
      "  \"name\",",
      "  description,",
      "  data_type,",
      "  source_class_id,",
      "  created_at,",
      "  created_by,",
      "  \"type\"",
      ") VALUES ",
      "-- ${6:Property Name}",
      "('${7:${8:00000000-0000-0000-0000-000000000001}}', :my_utc_now, '${6:Property Name}', '${9:Property Description}', ${10:DataType}, ${11:null|00000000-0000-0000-0000-000000000000}, :my_utc_now, :my_admin_id, 0),",
      "",
      "-----------------------------------------------",
      "--- Связи свойств с классом ${2:Class Name} ---",
      "-----------------------------------------------",
      "INSERT INTO classes_property_definitions (",
      "  id,",
      "  \"timestamp\",",
      "  class_id,",
      "  property_definition_id,",
      "  created_at,",
      "  created_by,",
      "  \"sorted_order\"",
      ") VALUES",
      "-- Связь ${6:Property Name} с классом ${2:Class Name}",
      "(gen_random_uuid(), :my_utc_now, '${1:${3:00000000-0000-0000-0000-000000000000}}', '${7:${8:00000000-0000-0000-0000-000000000001}}', :my_utc_now, :my_admin_id, ${13:0}),"
    ],
    "description": "Вставка нового класса со свойствами и связями"
  },
  "Insert Property Definition": {
    "prefix": "bmc-prop",
    "body": [
      "-- ${1:Property Name}",
      "('${2:${3:00000000-0000-0000-0000-000000000001}}', :my_utc_now, '${1:Property Name}', '${4:Description}', ${5:DataType}, ${6:null|00000000-0000-0000-0000-000000000000}, :my_utc_now, :my_admin_id, 0),"
    ],
    "description": "Вставка определения свойства"
  },
  "Link Property to Class": {
    "prefix": "bmc-link",
    "body": [
      "-- Связь ${1:Property Name} с классом ${2:Class Name}",
      "(gen_random_uuid(), :my_utc_now, '${3:00000000-0000-0000-0000-000000000000}', '${4:${5:00000000-0000-0000-0000-000000000001}}', :my_utc_now, :my_admin_id, ${6:0})"
    ],
    "description": "Связь свойства с классом"
  },
  "Insert Grid Schema": {
    "prefix": "bmc-grid",
    "body": [
      "--------------------------------------------------------------------------------------",
      "------ Добавление конфигурации грида \"${1:className}\" 00000000-0000-0000-0000-000000000000 -----",
      "--------------------------------------------------------------------------------------",
      "",
      "INSERT INTO grid_schemas (",
      "    id, ",
      "    \"timestamp\", ",
      "    class_id, ",
      "    description, ",
      "    \"configuration\",",
      "    created_at, ",
      "    created_by",
      ") VALUES (",
      "    '00000000-0000-0000-0000-000000000001',",
      "    :my_utc_now,",
      "    '00000000-0000-0000-0000-000000000000',",
      "    'Конфигурация грида для класса ${1:className}',",
      "    '{",
      "      \"AllowColumnReordering\": true,",
      "      \"AllowColumnResizing\": true,",
      "      \"AllowColumnSelect\": true,",
      "      \"AutoUpdate\": {",
      "        \"AllowAutoUpdate\": true,",
      "        \"AvailablePeriods\": [",
      "          {",
      "            \"Label\": \"Каждые 5 секунд\",",
      "            \"Value\": 5",
      "          },",
      "          {",
      "            \"Label\": \"Каждую минуту\",",
      "            \"Value\": 60",
      "          }",
      "        ]",
      "      },",
      "      \"ColumnAutoWidth\": true,",
      "      \"Export\": {",
      "        \"AllowExport\": true,",
      "        \"AvailableFormats\": [",
      "          \"XLSX\",",
      "          \"TXT\"",
      "        ]",
      "      },",
      "      \"Filtering\": {",
      "        \"AllowCommonFilters\": true,",
      "        \"AllowCustomFilters\": true,",
      "        \"AllowExtendedFilters\": false,",
      "        \"CommonFilters\": [],",
      "        \"CustomFilters\": [],",
      "        \"Parameters\": []",
      "      },",
      "      \"Grouping\": {",
      "        \"AllowGrouping\": true",
      "      },",
      "      \"EditSchema\": {",
      "        \"AllowEdit\": true",
      "      },",
      "      \"HiddenColumns\": [],",
      "      \"Paging\": {",
      "        \"ShowPageSizeSelector\": true,",
      "        \"PageSize\": 20,",
      "        \"AllowedPageSizes\": [",
      "          10,",
      "          20,",
      "          30,",
      "          40,",
      "          50,",
      "          60",
      "        ]",
      "      },",
      "      \"Sorting\": {},",
      "      \"Search\": {},",
      "      \"Reports\": {",
      "        \"AllowReports\": false",
      "      },",
      "      \"RowColoring\": [],",
      "      \"DefaultColumns\": [",
      "        {",
      "          \"PropertyDefinitionId\": \"00000000-0000-0000-0000-000000000000\"",
      "        }",
      "      ]",
      "    }'::jsonb,",
      "    :my_utc_now,",
      "    :my_admin_id",
      ");"
    ],
    "description": "Добавление базовой конфигурации грида с нулевыми UUID"
  },
  "Insert All Form Schemas": {
    "prefix": "bmc-main-forms",
    "body": [
      "-----------------------------------------------------------------------",
      "--------------------- Добавление конфигурации форм ${1:className}: 00000000-0000-0000-0000-000000000000 --------------------",
      "-----------------------------------------------------------------------",
      "",
      "-- MainCard (Форма просмотра)",
      "INSERT INTO form_schemas (",
      "    id, ",
      "    \"timestamp\", ",
      "    class_id, ",
      "    \"code\", ",
      "    \"configuration\", ",
      "    created_at, ",
      "    created_by",
      ") VALUES (",
      "    '00000000-0000-0000-0000-000000000001',",
      "    :my_utc_now,",
      "    '00000000-0000-0000-0000-000000000000',",
      "    'MainCard',",
      "'{",
      "  \"Name\": \"Главная форма\",",
      "  \"Description\": \"Форма для просмотра информации по ${1:className}\",",
      "  \"Arrangement\": {",
      "    \"width\": \"30\",",
      "    \"alignment\": \"Center\",",
      "    \"schema\": [",
      "      {",
      "        \"type\": \"Default\",",
      "        \"fieldCode\": \"00000000-0000-0000-0000-000000000002\"",
      "      }",
      "    ]",
      "  },",
      "  \"Fields\": [",
      "    {",
      "      \"Code\": \"00000000-0000-0000-0000-000000000002\",",
      "      \"Type\": \"\",",
      "      \"Label\": \"\",",
      "      \"Description\": \"\",",
      "      \"PropertyDefinitionId\": \"00000000-0000-0000-0000-000000000002\"",
      "    }",
      "  ],",
      "  \"NameFromParameterCode\": \"НазваниеФормы\",",
      "  \"Parameters\": [",
      "    {",
      "      \"Code\": \"Название\",",
      "      \"Data\": \"00000000-0000-0000-0000-000000000002\",",
      "      \"SourceType\": \"ObjectProperty\"",
      "    },",
      "    {",
      "      \"Code\": \"НазваниеФормы\",",
      "      \"Data\": {",
      "        \"Arguments\": {",
      "          \"name\": \"Название\"",
      "        },",
      "        \"Script\": \"name\"",
      "      },",
      "      \"SourceType\": \"JavaScript\"",
      "    }",
      "  ],",
      "  \"ObjectName\": \"\",",
      "  \"ObjectDescription\": \"\"",
      "}'::jsonb,",
      ":my_utc_now,",
      ":my_admin_id",
      ");",
      "",
      "-- ModalCreating (Форма для создания)",
      "INSERT INTO form_schemas (",
      "    id, ",
      "    \"timestamp\", ",
      "    class_id, ",
      "    \"code\", ",
      "    \"configuration\", ",
      "    created_at, ",
      "    created_by",
      ") VALUES (",
      "    '00000000-0000-0000-0000-000000000003',",
      "    :my_utc_now,",
      "    '00000000-0000-0000-0000-000000000000',",
      "    'ModalCreating',",
      "'{",
      "  \"Name\": \"Форма создания\",",
      "  \"Description\": \"Форма для создания ${1:className}\",",
      "  \"Arrangement\": {",
      "    \"width\": \"30\",",
      "    \"alignment\": \"Center\",",
      "    \"schema\": [",
      "      {",
      "        \"type\": \"Default\",",
      "        \"fieldCode\": \"00000000-0000-0000-0000-000000000002\"",
      "      }",
      "    ]",
      "  },",
      "  \"Fields\": [",
      "    {",
      "      \"Code\": \"00000000-0000-0000-0000-000000000002\",",
      "      \"Type\": \"\",",
      "      \"Label\": \"\",",
      "      \"Description\": \"\",",
      "      \"PropertyDefinitionId\": \"00000000-0000-0000-0000-000000000002\"",
      "    }",
      "  ],",
      "  \"ObjectNameFromParameterCode\": \"НазваниеОбъекта\",",
      "  \"Parameters\": [",
      "    {",
      "      \"Code\": \"Название\",",
      "      \"Data\": \"00000000-0000-0000-0000-000000000002\",",
      "      \"SourceType\": \"FieldValue\"",
      "    },",
      "    {",
      "      \"Code\": \"НазваниеОбъекта\",",
      "      \"Data\": {",
      "        \"Arguments\": {",
      "          \"name\": \"Название\"",
      "        },",
      "        \"Script\": \"name\"",
      "      },",
      "      \"SourceType\": \"JavaScript\"",
      "    }",
      "  ],",
      "  \"ObjectName\": \"\",",
      "  \"ObjectDescription\": \"\"",
      "}'::jsonb,",
      ":my_utc_now,",
      ":my_admin_id",
      ");",
      "",
      "-- ModalEdit (Форма для редактирования)",
      "INSERT INTO form_schemas (",
      "    id, ",
      "    \"timestamp\", ",
      "    class_id, ",
      "    \"code\", ",
      "    \"configuration\", ",
      "    created_at, ",
      "    created_by",
      ") VALUES (",
      "    '00000000-0000-0000-0000-000000000004',",
      "    :my_utc_now,",
      "    '00000000-0000-0000-0000-000000000000',",
      "    'ModalEdit',",
      "'{",
      "  \"Name\": \"Форма редактирования\",",
      "  \"Description\": \"Форма для редактирования ${1:className}\",",
      "  \"Arrangement\": {",
      "    \"width\": \"30\",",
      "    \"alignment\": \"Center\",",
      "    \"schema\": [",
      "      {",
      "        \"type\": \"Default\",",
      "        \"fieldCode\": \"00000000-0000-0000-0000-000000000002\"",
      "      }",
      "    ]",
      "  },",
      "  \"Fields\": [",
      "    {",
      "      \"Code\": \"00000000-0000-0000-0000-000000000002\",",
      "      \"Type\": \"\",",
      "      \"Label\": \"\",",
      "      \"Description\": \"\",",
      "      \"PropertyDefinitionId\": \"00000000-0000-0000-0000-000000000002\"",
      "    }",
      "  ],",
      "  \"ObjectNameFromParameterCode\": \"НазваниеОбъекта\",",
      "  \"Parameters\": [",
      "    {",
      "      \"Code\": \"Название\",",
      "      \"Data\": \"00000000-0000-0000-0000-000000000002\",",
      "      \"SourceType\": \"FieldValue\"",
      "    },",
      "    {",
      "      \"Code\": \"НазваниеОбъекта\",",
      "      \"Data\": {",
      "        \"Arguments\": {",
      "          \"name\": \"Название\"",
      "        },",
      "        \"Script\": \"name\"",
      "      },",
      "      \"SourceType\": \"JavaScript\"",
      "    }",
      "  ],",
      "  \"ObjectName\": \"\",",
      "  \"ObjectDescription\": \"\"",
      "}'::jsonb,",
      ":my_utc_now,",
      ":my_admin_id",
      ");"
    ],
    "description": "Добавление всех основных форм (MainCard, ModalCreating, ModalEdit) для класса"
  },
  "Insert Single Form Schema": {
    "prefix": "bmc-form",
    "body": [
      "-----------------------------------------------------------------------",
      "--------------------- Добавление конфигурации формы ${1:formName} ${2:className}: 00000000-0000-0000-0000-000000000000--------------------",
      "-----------------------------------------------------------------------",
      "",
      "INSERT INTO form_schemas (",
      "    id, ",
      "    \"timestamp\", ",
      "    class_id, ",
      "    \"code\", ",
      "    \"configuration\", ",
      "    created_at, ",
      "    created_by",
      ") VALUES (",
      "    '00000000-0000-0000-0000-000000000001',",
      "    :my_utc_now,",
      "    '00000000-0000-0000-0000-000000000000',",
      "    '${1:formName}',",
      "'{",
      "  \"Name\": \"Форма\",",
      "  \"Description\": \"${4:Form Description}\",",
      "  \"Arrangement\": {",
      "    \"width\": \"30\",",
      "    \"alignment\": \"Center\",",
      "    \"schema\": [",
      "      {",
      "        \"type\": \"Default\",",
      "        \"fieldCode\": \"00000000-0000-0000-0000-000000000002\"",
      "      }",
      "    ]",
      "  },",
      "  \"Fields\": [",
      "    {",
      "      \"Code\": \"00000000-0000-0000-0000-000000000002\",",
      "      \"Type\": \"\",",
      "      \"Label\": \"\",",
      "      \"Description\": \"\",",
      "      \"PropertyDefinitionId\": \"00000000-0000-0000-0000-000000000002\"",
      "    }",
      "  ],",
      "  \"ObjectNameFromParameterCode}\": \"НазваниеОбъекта\",",
      "  \"Parameters\": [",
      "    {",
      "      \"Code\": \"Название\",",
      "      \"Data\": \"00000000-0000-0000-0000-000000000002\",",
      "      \"SourceType\": \"FieldValue\"",
      "    },",
      "    {",
      "      \"Code\": \"НазваниеОбъекта\",",
      "      \"Data\": {",
      "        \"Arguments\": {",
      "          \"name\": \"Название\"",
      "        },",
      "        \"Script\": \"name\"",
      "      },",
      "      \"SourceType\": \"JavaScript\"",
      "    }",
      "  ],",
      "  \"ObjectName\": \"\",",
      "  \"ObjectDescription\": \"\"",
      "}'::jsonb,",
      ":my_utc_now,",
      ":my_admin_id",
      ");"
    ],
    "description": "Добавление одной формы для класса"
  },
  "Insert Workflow Schema": {
    "prefix": "bmc-workflow",
    "body": [
      "----------------------------------------------------------------------",
      "--- Workflow класса ${1:className}: 00000000-0000-0000-0000-000000000000 ---",
      "----------------------------------------------------------------------",
      "",
      "INSERT INTO workflow_schemas (",
      "    id, ",
      "    \"timestamp\", ",
      "    class_id, ",
      "    description, ",
      "    created_at, ",
      "    created_by, ",
      "    transactions_sheme, ",
      "    initiation_sheme, ",
      "    states_sheme",
      ") VALUES (",
      "    '00000000-0000-0000-0000-000000000001',",
      "    :my_utc_now,",
      "    '00000000-0000-0000-0000-000000000000',",
      "    'Конфигурация workflow для класса ${1:className}',",
      "    :my_utc_now,",
      "    :my_admin_id,",
      "    '[]'::jsonb,",
      "'[",
      "  {",
      "    \"Id\": \"00000000-0000-0000-0000-000000000002\",",
      "    \"Code\": \"create\",",
      "    \"Name\": \"Создать\",",
      "    \"IsMain\": true,",
      "    \"Description\": \"Создание объекта\",",
      "    \"NewStatusId\": \"00000000-0000-0000-0000-000000000003\",",
      "    \"FormClassId\": \"00000000-0000-0000-0000-000000000000\",",
      "    \"FormCode\": \"ModalCreating\",",
      "    \"AvailableRoles\": [",
      "      {",
      "        \"RoleId\": \"00000000-0000-0000-0000-000000000004\"",
      "      }",
      "    ],",
      "    \"Parameters\": [],",
      "    \"PostAction\": []",
      "  }",
      "]'::jsonb,",
      "'",
      "[",
      "  {",
      "    \"StatusId\": \"00000000-0000-0000-0000-000000000003\",",
      "    \"Operations\": [",
      "      {",
      "        \"Id\": \"00000000-0000-0000-0000-000000000005\",",
      "        \"Code\": \"edit\",",
      "        \"Name\": \"Редактировать\",",
      "        \"ConfirmationLabel\": \"Подтвердить\",",
      "        \"Description\": \"\",",
      "        \"FormClassId\": \"00000000-0000-0000-0000-000000000000\",",
      "        \"FormCode\": \"ModalEdit\",",
      "        \"AvailableRoles\": [",
      "          {",
      "            \"RoleId\": \"00000000-0000-0000-0000-000000000004\"",
      "          }",
      "        ],",
      "        \"Parameters\": [],",
      "        \"PostAction\": []",
      "      }",
      "    ]",
      "  }",
      "]'::jsonb",
      ");"
    ],
    "description": "Добавление Workflow схемы для класса"
  }
}